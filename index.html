<!DOCTYPE html>
<html lang="zh-TW">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Cardboard VR - GLTF äº’å‹•</title>
  <script src="https://cdnjs.cloudflare.com/ajax/libs/aframe/1.4.2/aframe.min.js"></script>
  <style>
    body {
      margin: 0;
      overflow: hidden;
    }
    #info {
      position: absolute;
      top: 10px;
      left: 10px;
      color: white;
      background: rgba(0,0,0,0.7);
      padding: 10px;
      border-radius: 5px;
      font-family: Arial, sans-serif;
      font-size: 14px;
      z-index: 1000;
      max-width: 300px;
    }
    #vr-button {
      position: absolute;
      bottom: 20px;
      left: 50%;
      transform: translateX(-50%);
      z-index: 1000;
      padding: 15px 30px;
      background: #ff5722;
      color: white;
      border: none;
      border-radius: 25px;
      font-size: 18px;
      font-weight: bold;
      cursor: pointer;
      box-shadow: 0 4px 6px rgba(0,0,0,0.3);
    }
    #vr-button:hover {
      background: #e64a19;
    }
    #mesh-list {
      position: absolute;
      top: 100px;
      left: 10px;
      color: white;
      background: rgba(0,0,0,0.7);
      padding: 10px;
      border-radius: 5px;
      font-family: monospace;
      font-size: 12px;
      z-index: 1000;
      max-width: 300px;
      max-height: 400px;
      overflow-y: auto;
    }
  </style>
</head>
<body>
  <div id="info">
    ğŸ“± ä½¿ç”¨èªªæ˜ï¼š<br>
    1. é»æ“Šä¸‹æ–¹ã€Œé€²å…¥ VRã€æŒ‰éˆ•<br>
    2. å°‡æ‰‹æ©Ÿæ”¾å…¥ Cardboard<br>
    3. è½‰å‹•é ­éƒ¨ç’°é¡§å››å‘¨<br>
    4. å‡è¦–ç‰©é«”èˆ‡å®ƒå€‘äº’å‹•
  </div>

  <div id="mesh-list">
    <strong>GLTF Mesh åˆ—è¡¨ï¼š</strong><br>
    <div id="mesh-names">è¼‰å…¥ä¸­...</div>
  </div>

  <button id="vr-button">ğŸ¥½ é€²å…¥ VR æ¨¡å¼</button>

  <!-- A-Frame è‡ªè¨‚çµ„ä»¶ -->
  <script src="gltf-interactive-component.js"></script>

  <a-scene vr-mode-ui="enabled: true" loading-screen="enabled: false">
    <!-- å¤©ç©ºèƒŒæ™¯ -->
    <a-sky color="#87CEEB"></a-sky>

    <!-- åœ°æ¿ -->
    <a-plane position="0 0 0" rotation="-90 0 0" width="20" height="20" color="#7BC8A4" shadow></a-plane>

    <!-- å…‰æº -->
    <a-light type="ambient" color="#BBB"></a-light>
    <a-light type="directional" color="#FFF" intensity="0.6" position="-1 2 1"></a-light>

    <!-- GLTF æ¨¡å‹ç¯„ä¾‹ (ä½¿ç”¨ A-Frame å…§å»ºçš„ç¤ºç¯„æ¨¡å‹) -->
    <!-- ä½ å¯ä»¥æ›¿æ› src ç‚ºä½ è‡ªå·±çš„ GLTF æª”æ¡ˆè·¯å¾‘ -->
    <a-entity 
      id="my-model"
      gltf-model="Model\test.glb"
      position="0 1 -3"
      scale="0.5 0.5 0.5"
      gltf-interactive="
        interactiveMeshes: view_plane;
        hoverColor: #FF6B6B;
        clickColor: #4ECDC4;
        normalColor: #FFFFFF;
      ">
    </a-entity>

    <!-- ç›¸æ©Ÿï¼ˆå« VR æ§åˆ¶ï¼‰ -->
    <a-entity camera look-controls wasd-controls position="0 1.6 0">
      <!-- Cardboard æ³¨è¦–æ¸¸æ¨™ -->
      <a-cursor
        color="#FF6B6B"
        fuse="true"
        fuse-timeout="1500"
        animation__click="property: scale; startEvents: click; from: 0.1 0.1 0.1; to: 1 1 1; dur: 150"
        animation__fusing="property: scale; startEvents: fusing; from: 1 1 1; to: 0.1 0.1 0.1; dur: 1500"
        raycaster="objects: .interactive-mesh">
      </a-cursor>
    </a-entity>
  </a-scene>

  <script>
    // VR æŒ‰éˆ•åŠŸèƒ½
    const vrButton = document.getElementById('vr-button');
    const scene = document.querySelector('a-scene');
    const info = document.getElementById('info');
    const meshList = document.getElementById('mesh-list');

    vrButton.addEventListener('click', () => {
      if (scene.hasLoaded) {
        scene.enterVR();
      } else {
        scene.addEventListener('loaded', () => {
          scene.enterVR();
        });
      }
    });

    scene.addEventListener('enter-vr', () => {
      vrButton.style.display = 'none';
      info.style.display = 'none';
      meshList.style.display = 'none';
    });

    scene.addEventListener('exit-vr', () => {
      vrButton.style.display = 'block';
      info.style.display = 'block';
      meshList.style.display = 'block';
    });
  </script>
</body>
</html>